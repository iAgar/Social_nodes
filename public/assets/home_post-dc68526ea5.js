{let t=function(){let t=$("#new-post-form");t.submit((function(o){o.preventDefault(),$.ajax({type:"post",url:"/post/create",data:t.serialize(),success:function(t){console.log(t);let o=e(t.data);$("#posts-list-container>ul").prepend(o),n($(" .delete-post-button",o)),new Noty({theme:"sunset",text:"Post created successfully!",type:"success",layout:"topRight",timeout:3e3,progressBar:!1}).show()},error:function(t){console.log(t.responseText)}})}))},e=function(t){return $(`<div class="w-400 mw-full" id="post-${t.post._id}"> \n    <div class="card p-0"> \n      <div class="content">\n        <div> \n          <li id="post-${t.post._id}" style="list-style: none;">\n            <b>${t.post.content}</b>\n                <a class="delete-post-button" href="/post/delete/${t.post._id}">X</a>\n            <br>\n            <img src="${t.user.avatar}" width="20">\n            <a href="/user/profile/${t.user._id}">${t.user.name}</a>\n          </li>\n          <li style="list-style: none;">\n            <form method="POST" action="/like/toggle/?id=${t.post._id}&type=Post">\n                <button type="submit">0 Likes</button>\n            </form>\n          </li>\n            <p>Comments: </p>\n            <li style="list-style: none;">\n                <form action="/comment/create" id="comment-create-form" method="POST">\n                    <input type="text" id="content" name="content" placeholder="Add Comment..." required>\n                    <input type="hidden" name="post" value="${t.post._id}">\n                    <button type="submit">Add Comment</button>\n                </form>\n            </li>\n        </div>\n      </div>\n    </div>\n  </div>`)},n=function(t){$(t).click((function(e){e.preventDefault(),$.ajax({type:"get",url:$(t).prop("href"),success:function(t){$("#post-"+t.data.data).remove(),new Noty({theme:"sunset",text:"Post deleted successfully!",type:"success",layout:"topRight",timeout:3e3,progressBar:!1}).show()},error:function(t){console.log(t.responseText)}})}))};t()}